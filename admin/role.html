<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>한국정보공학(주)</title>
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="fonts/css/font-awesome.min.css" rel="stylesheet">
    <!-- Custom styling plus plugins -->
    <link href="css/custom.css" rel="stylesheet">
    <link href="js/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet">

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-ui-1.11.4/jquery-ui.min.js"></script>
    <script src="http://jqueryvalidation.org/files/dist/jquery.validate.min.js"></script>
    <script src="http://jqueryvalidation.org/files/dist/additional-methods.min.js"></script>
    <!--[if lt IE 9]>
        <script src="../assets/js/ie8-responsive-file-warning.js"></script>
        <![endif]-->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
</head>

<body class="nav-md">

    <div class="container body">


        <div class="main_container">

            <div class="col-md-3 left_col">
                <div class="left_col scroll-view">

                    <div class="navbar toggle">
                        <a id="menu_toggle"><i class="fa fa-bars"></i></a>
                    </div>
                    <div class="clearfix"></div>

                    <!-- sidebar menu -->
                    <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">

                        <div class="menu_section">
                            <ul class="nav side-menu">
                                <li><i class="fa fa-briefcase"></i> <a href="customer.html"> 고객사 <span class="fa fa-chevron-right"></span></a>
                                </li>
                                <li><i class="fa fa-calendar"></i><a> 스케줄 <span class="fa fa-chevron-right"></span></a>
                                    <ul class="nav child_menu" style="display: none">
                                        <li><a href="schedule.html">- 스케줄 관리</a></li>
                                        <li><a href="schedule_history.html">- 스케줄 이력</a></li>
                                    </ul>
                                </li>
                                <li><i class="fa fa-file-text-o"></i><a> 보고서 <span class="fa fa-chevron-right"></span></a>
                                    <ul class="nav child_menu" style="display: none">
                                        <li><a href="report.html">- 보고서 조회</a></li>
                                        <li><a href="report_macro.html">- 상용구 관리</a></li>
                                    </ul>
                                </li>
                                <li><i class="fa fa-bar-chart"></i><a> 통계정보 <span class="fa fa-chevron-right"></span></a>
                                    <ul class="nav child_menu" style="display: none">
                                        <li><a href="statistics.html">- 활동정보 요약</a></li>
                                        <li><a href="statistics_active.html">- 활동정보 상세</a></li>
                                        <li><a href="statistics_graph.html">- 활동그래프</a></li>
                                        <li><a href="admin_rollbook.html">- 출퇴근기록</a></li>
                                    </ul>
                                </li>
                                <li><i class="fa fa-users"></i><a> 직원 <span class="fa fa-chevron-right"></span></a>
                                    <ul class="nav child_menu" style="display: none">
                                        <li><a href="member.html">- 직원 연락처</a></li>
                                        <li><a href="member_state.html">- 비즈미 사용 현황</a></li>
                                        <li><a href="member_stamp.html">- 업무발자취</a></li>
                                    </ul>
                                </li>
                                <li><i class="fa fa-folder-open"></i><a> 관리 <span class="fa fa-chevron-right"></span></a>
                                    <ul class="nav child_menu" style="display: none">
                                        <li><a href="admin_off.html">- 휴가자설정</a></li>
                                        <li><a href="admin_holiday.html">- 휴일설정</a></li>
                                        <li><a href="admin_department.html">- 조직관리</a></li>
                                        <li><a href="admin_position.html">- 직위관리</a></li>
                                        <li><a href="admin_employee.html">- 직원관리</a></li>
                                        <li><a href="admin_work.html">- 업무구분설정</a></li>
                                        <li><a href="admin_costomer.html">- 곡객구분설정</a></li>
                                    </ul>
                                </li>
                                <li><i class="fa fa-cog"></i><a> 설정 <span class="fa fa-chevron-right"></span></a>
                                    <ul class="nav child_menu" style="display: none">
                                        <li><a href="admin_level.html">- 권한설정</a></li>
                                        <li><a href="admin_setting.html">- 환경변수 설정</a></li>
                                    </ul>
                                </li>
                                <li><i class="fa fa-tachometer"></i><a href="monitoring.html"> 상황실 <span class="fa fa-chevron-right"></span></a>
                                </li>
                            </ul>
                        </div>

                    </div>
                    <!-- /sidebar menu -->

                </div>
            </div>

            <!-- top navigation -->
            <div class="top_nav">

                <div class="nav_menu">
                    <nav role="navigation">
                        <div class="nav_title" style="border: 0;">
                            <a href="index.html" class="site_title"> 한국정보공학(주)</a>
                        </div>

                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                    <i class=" fa fa-user"></i> 기술개발팀 과장 홍길동
                                    <span class=" fa fa-angle-down"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-usermenu animated fadeInDown pull-right">
                                    <li><a href="#none" data-toggle="modal" data-target=".main_my"> 개인정보수정</a>
                                    </li>
                                    <li><a href="login.html"><i class="fa fa-sign-out pull-right"></i> Log Out</a>
                                    </li>
                                </ul>


                                <!-- 개인정보수정 MODAL (S)-->
                                <div class="modal fade main_my" tabindex="-1" role="dialog" aria-hidden="true">
                                    <div class="modal-dialog modal-lg">
                                        <div class="modal-content">

                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
                                                </button>
                                                <h4 class="modal-title" id="myModalLabel">개인정보수정</h4>
                                            </div>
                                            <div class="modal-body">

                                                <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">

                                                    <div class="form-group">
                                                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="member-number">사번
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" id="member-number" disabled="disabled" class="form-control col-md-7 col-xs-12" placeholder="150301">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-md-3 col-sm-3 col-xs-12" for="member-id">아이디
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input type="text" id="member-id" name="member-id" disabled="disabled" class="form-control col-md-7 col-xs-12" placeholder="ID">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="new-memberpw" class="control-label col-md-3 col-sm-3 col-xs-12">새 비밀번호</label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input id="new-memberpw" class="form-control col-md-7 col-xs-12" type="password" name="new-memberpw">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="new-memberpw-ok" class="control-label col-md-3 col-sm-3 col-xs-12">새 비밀번호 확인</label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input id="new-memberpw-ok" class="form-control col-md-7 col-xs-12" type="password" name="new-memberpw-ok">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">E-mail
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input id="member-email" class="form-control col-md-7 col-xs-12" type="text" placeholder="id@domain.com">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">Mobile
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input id="member-mobile" class="form-control col-md-7 col-xs-12" type="text" placeholder="010-1234-1234">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="control-label col-md-3 col-sm-3 col-xs-12">Office
                                                        </label>
                                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                                            <input id="member-office" class="form-control col-md-7 col-xs-12" type="text" placeholder="02-1234-1234">
                                                        </div>
                                                    </div>
                                                    <div class="ln_solid"></div>
                                                    <div class="form-group">
                                                        <div class="col-md-6 col-sm-6 col-xs-12 col-xs-offset-3">
                                                            <button type="submit" class="btn btn-primary">수정</button>
                                                            <button type="reset" class="btn btn-success" data-dismiss="modal">취소</button>
                                                        </div>
                                                    </div>

                                                </form>

                                            </div>


                                        </div>
                                    </div>
                                </div>
                                <!-- 개인정보수정 MODAL (E)-->


                            </li>

                        </ul>
                    </nav>
                </div>

            </div>
            <!-- /top navigation -->


            <!-- page content -->
            <div class="right_col" role="main">

                <div class="page-title">
                    <div class="title_left">
                        <h3 class="titele_ic">권한 설정</h3>
                    </div>

                    <div class="title_right">
                        <div id="contents-location" class="pull-right">
                            <!-- location -->
                            <ol class="breadcrumb">
                              <li><i class="fa fa-home "></i> <a href="index.html">Home</a></li>
                              <li><a href="customer.html">설정</a></li>
                              <li class="active">권한 설정</li><!-- 현재 -->
                            </ol>
                        </div>
                    </div>
                </div>
                <!-- page-title (e) -->



                <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="x_panel">

                            <div class="x_title">
                                <div class="pull-left pt10">
                                    * 마우스로 드래그해서 원하는 위치에 놓으세요. 카테고리는 <span class="red">최대 10개</span> 까지 적용 가능합니다.
                                </div>

                                <div class="pull-right">
                                    <button type="button" class="btn btn-primary"  data-toggle="modal" data-target=".role_regist"><i class="fa fa-plus"></i> 권한등록</button>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <!-- x_title (e) -->

                            <div class="x_content">



                <div class="row">

                    <div class="col-md-4 col-sm-4 col-xs-12 role-drag-list-wrap">
                        <ul id="table-role" class="role-drag-list">
                                <li id="1" class="nodrag nodrop">
                                    <div class="role-drag-list-num">
                                        1
                                    </div>
                                    <div class="role-drag-list-cont">
                                        <h4 id="999">LADM</h4>
                                        <input type="hidden" name="id" value="999">
                                        <input type="hidden" name="prev_priority" value="1">
                                        Administrator
                                    </div>
                                    <div class="role-drag-list-btn">
                                        <button onclick="deleteRole(999);return false;" disabled="disabled"><i class="fa fa-minus"></i></button>
                                    </div>
                                </li>

                                <li id="2"  class="draggable">
                                    <div class="dragHandle role-drag-list-num">
                                        2
                                    </div>
                                    <div class="role-drag-list-cont">
                                        <h4 id="5">L5</h4>
                                        <input type="hidden" name="id" value="5">
                                        <input type="hidden" name="prev_priority" value="2">
                                        Member
                                    </div>
                                    <div class="role-drag-list-btn">
                                        <button onclick="deleteRole(5);return false;"><i class="fa fa-minus"></i></button>
                                    </div>
                                </li>

                                <li id="3"  class="draggable">
                                    <div class="dragHandle role-drag-list-num">
                                        3
                                    </div>
                                    <div class="role-drag-list-cont">
                                        <h4 id="50">L50</h4>
                                        <input type="hidden" name="id" value="50">
                                        <input type="hidden" name="prev_priority" value="3">
                                        본부장
                                    </div>
                                    <div class="role-drag-list-btn">
                                        <button onclick="deleteRole(50);return false;"><i class="fa fa-minus"></i></button>
                                    </div>
                                </li>

                                <li id="4"  class="draggable">
                                    <div class="dragHandle role-drag-list-num">
                                        4
                                    </div>
                                    <div class="role-drag-list-cont">
                                        <h4 id="1004">L3</h4>
                                        <input type="hidden" name="id" value="1004">
                                        <input type="hidden" name="prev_priority" value="4">
                                        tttttt
                                    </div>
                                    <div class="role-drag-list-btn">
                                        <button onclick="deleteRole(1004);return false;"><i class="fa fa-minus"></i></button>
                                    </div>
                                </li>

                                <li id="5"  class="draggable">
                                    <div class="dragHandle role-drag-list-num">
                                        5
                                    </div>
                                    <div class="role-drag-list-cont">
                                        <h4 id="45">L45</h4>
                                        <input type="hidden" name="id" value="45">
                                        <input type="hidden" name="prev_priority" value="5">
                                        Team Leader</div>
                                    <div class="role-drag-list-btn">
                                        <button onclick="deleteRole(45);return false;"><i class="fa fa-minus"></i></button>
                                    </div>
                                </li>

                                <li id="6"  class="draggable">
                                    <div class="dragHandle role-drag-list-num">
                                        6
                                    </div>
                                    <div class="role-drag-list-cont">
                                        <h4 id="4">L2</h4>
                                        <input type="hidden" name="id" value="4">
                                        <input type="hidden" name="prev_priority" value="6">
                                        Member2
                                    </div>
                                    <div class="role-drag-list-btn">
                                        <button onclick="deleteRole(4);return false;"><i class="fa fa-minus"></i></button>
                                    </div>
                                </li>

                                <li id="7"  class="draggable">
                                    <div class="dragHandle role-drag-list-num">
                                        7
                                    </div>
                                    <div class="role-drag-list-cont">
                                        <h4 id="1007">happytest</h4>
                                        <input type="hidden" name="id" value="1007">
                                        <input type="hidden" name="prev_priority" value="7">
                                        정기 테스트 진행중
                                    </div>
                                    <div class="role-drag-list-btn">
                                        <button onclick="deleteRole(1007);return false;"><i class="fa fa-minus"></i></button>
                                    </div>
                                </li>

                        </ul>
                    </div>



                    <div class="col-md-8 col-sm-8 col-xs-12">
                        <div class="row">
                           <div class="pull-left pt10">
                               권한 항목 비교
                           </div>
                           <div class="pull-right">

                              <ul class="btn-ic-list">
                                  <li><span class="btn-ic btn-ic-rw">rw</span> 읽기/쓰기</li>
                                  <li><span class="btn-ic btn-ic-r">r</span> 읽기</li>
                                  <li><span class="btn-ic btn-ic-re"><i class="fa fa-ban"></i></span> 사용제한</li>
                              </ul>

                           </div>
                           <div class="clearfix"></div>

                            <div class="ln_solid3"></div>

                        </div>

                        <div class="row">
                            <div class="col-md-6 col-sm-6 col-xs-12 role-drop-left">
                                <div class="droppable1">

                                    <div class="role-drop-cont">
                                        <!--
                                        <div>ID : 1007</div>
                                        <div>권한명칭 : happytest</div>
                                        <div>설명 : 정기 테스트 진행중</div>
                                        -->
                                        <h4>LADM</h4>
                                        <div>모든 메뉴 확인 가능한 관리자 권한, 수정불가</div>
                                    </div>
                                    <div class="role-drop-table">
                                        <table>
                                            <tbody>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 메인화면</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-rw">rw</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 개인정보수정</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-rw">rw</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 고객사</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-rw">rw</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 스케줄</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-rw">rw</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 스케줄이력</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-rw">rw</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 보고서</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-rw">rw</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 상용구</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-rw">rw</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 활동정보요약</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-r">r</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 활동정보상세</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-r">r</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 활동그래프</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-r">r</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 출퇴근기록(일)</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-r">r</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 출퇴근기록(월)</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-r">r</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 직원정보</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-r">r</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 비즈미사용현황</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-r">r</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 업무발자취</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-r">r</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 관리</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-r">r</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 설정</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-rw">rw</span></td>
                                                </tr>
                                                <tr>
                                                    <td><i class="fa fa-folder"></i> 상황실</td>
                                                    <td class="text-right"><span class="btn-ic btn-ic-r">r</span></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>

                            <div class="col-md-6 col-sm-6 col-xs-12 role-drop-right">
                                <form id="formUpdate" data-parsley-validate="" action="/kies/setting/role/update" method="post" novalidate="novalidate">
                                    <div class="droppable2">
                                        <div class="role-drop-cont">
                                            <!-- button type="submit" class="btn btn-primary">수정</button -->
                                            <!-- div>ID : 4</div -->
                                            <input type="hidden" name="id" value="4">
                                            <input type="text" name="name" value="L2">
                                            <input type="text" name="description" value="Member2">
                                        </div>

                                        <div class="role-drop-table">
                                            <table>
                                                <tbody>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 메인화면</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 125, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 개인정보수정</td>
                                                        <td class="text-right">
                                                            <select name="type">
                                                                <option value="2">읽기/쓰기</option>
                                                                <option value="1">읽기</option>
                                                                <option value="0">사용제한</option>
                                                            </select>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 고객사</td>
                                                        <td class="text-right">
                                                            <span class="btn-ic btn-ic-rw" onclick="editPermission(this, 127, 2, 2)">rw</span>
                                                            <span class="btn-ic btn-ic-mo" onclick=""><i class="fa fa-pencil"></i></span>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 스케줄</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-re"><i class="fa fa-ban"></i></span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 스케줄이력</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 129, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 보고서</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 130, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 상용구</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 131, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 활동정보요약</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 132, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 활동정보상세</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 133, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 활동그래프</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 134, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 출퇴근기록(일)</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 135, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 출퇴근기록(월)</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 136, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 직원정보</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 137, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 비즈미사용현황</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 138, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 업무발자취</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 139, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 관리</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 140, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 설정</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 141, 2, 2)">rw</span></td>
                                                    </tr>
                                                    <tr>
                                                        <td><i class="fa fa-folder"></i> 상황실</td>
                                                        <td class="text-right"><span class="btn-ic btn-ic-rw" onclick="editPermission(this, 142, 2, 2)">rw</span></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </div>

                    </div>

                    <!-- 권한등록 MODAL (S)-->
                    <div id="role_regist" class="modal fade role_regist" tabindex="-1" role="dialog" aria-hidden="true">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span>
                                    </button>
                                    <h4 class="modal-title" id="myModalLabel">권한등록</h4>
                                </div>
                                <div class="modal-body">
                                    <form id="formRegist" data-parsley-validate="" class="form-horizontal form-label-left" action="/kies/setting/role/regist" method="post" novalidate="novalidate">
                                        <div class="form-group">
                                            <label for="new-memberpw" class="control-label col-md-3 col-sm-3 col-xs-12">권한 명칭 <span class="required">*</span></label>
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                <input id="name" class="form-control col-md-7 col-xs-12" type="text" name="name">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="new-memberpw-ok" class="control-label col-md-3 col-sm-3 col-xs-12">설명(요약)</label>
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                <input id="description" class="form-control col-md-7 col-xs-12" type="text" name="description">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-md-3 col-sm-3 col-xs-12">권한</label>
                                            <div class="col-md-6 col-sm-6 col-xs-12">
                                                <table class="table role-modal-table">
                                                    <colgroup>
                                                        <col width="30%">
                                                        <col width="40%">
                                                        <col width="30%">
                                                    </colgroup>
                                                    <!--thead>
                                                        <tr><th colspan="2">메뉴</th>
                                                            <th>권한</th>
                                                        </tr>
                                                    </thead-->
                                                    <tbody>


                                                        <tr>
                                                            <td rowspan="1"><i class="fa fa-folder"></i> 메인화면</td>
                                                            <td>메인화면</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="1">
                                                                <select name="type">
                                                                    <option value="2">읽기/쓰기</option>
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td rowspan="1"><i class="fa fa-folder"></i> 개인정보수정</td>
                                                            <td>개인정보수정</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="2">
                                                                <select name="type">
                                                                    <option value="2">읽기/쓰기</option>
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td rowspan="1"><i class="fa fa-folder"></i> 고객사</td>
                                                            <td>고객사</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="3">
                                                                <select name="type">
                                                                    <option value="2">읽기/쓰기</option>
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td rowspan="2"><i class="fa fa-folder"></i> 스케줄</td>
                                                            <td>스케줄</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="4">
                                                                <select name="type">
                                                                    <option value="2">읽기/쓰기</option>
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>스케줄이력</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="5">
                                                                <select name="type">
                                                                    <option value="2">읽기/쓰기</option>
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td rowspan="2"><i class="fa fa-folder"></i> 보고서</td>
                                                            <td>보고서</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="6">
                                                                <select name="type">
                                                                    <option value="2">읽기/쓰기</option>
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>상용구</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="7">
                                                                <select name="type">
                                                                    <option value="2">읽기/쓰기</option>
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td rowspan="5"><i class="fa fa-folder"></i> 통계</td>


                                                            <td>활동정보요약</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="8">
                                                                <select name="type">
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>활동정보상세</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="9">
                                                                <select name="type">
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>활동그래프</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="10">
                                                                <select name="type">
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>출퇴근기록(일)</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="11">
                                                                <select name="type">
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>출퇴근기록(월)</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="12">
                                                                <select name="type">
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td rowspan="3"><i class="fa fa-folder"></i> 직원</td>


                                                            <td>직원정보</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="13">
                                                                <select name="type">
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>비즈미사용현황</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="14">
                                                                <select name="type">
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td>업무발자취</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="15">
                                                                <select name="type">
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td rowspan="1"><i class="fa fa-folder"></i> 관리</td>
                                                            <td>관리</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="16">
                                                                <select name="type">
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td rowspan="1"><i class="fa fa-folder"></i> 설정</td>
                                                            <td>설정</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="17">
                                                                <select name="type">
                                                                    <option value="2">읽기/쓰기</option>
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                        <tr>
                                                            <td rowspan="1"><i class="fa fa-folder"></i> 상황실</td>
                                                            <td>상황실</td>
                                                            <td class="text-right">
                                                                <input type="hidden" name="resource_id" value="18">
                                                                <select name="type">
                                                                    <option value="1">읽기</option>
                                                                    <option value="0">사용제한</option>
                                                                </select>
                                                            </td>
                                                        </tr>

                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>
                                        <div class="ln_solid"></div>
                                        <div class="form-group">
                                            <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-3">
                                                <button type="submit" class="btn btn-primary"><i class="fa fa-check"></i> 등록</button>
                                                <button type="reset" class="btn btn-success" data-dismiss="modal" onclick="formReset()">취소</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 권한등록 MODAL (E)-->
                </div>
                <div class="row text-right pt10">
                    <button type="submit" class="btn btn-primary">적용</button>
                    <button type="reset" class="btn btn-default" data-dismiss="modal" onclick="formReset()">취소</button>
                </div>
                <script type="text/javascript">
                    $(document).ready(function () {
                        /* 등록창 오픈시 input 포커스 주기 */
                        $(".role_regist").on("shown.bs.modal", function (e) {
                            console.log("modal show");
                            $("#name").focus();
                        });
                        /* 권한 드래그 */
                        $(".draggable").draggable({
                            cursor: "move",
                            handle: ".role-drag-list-num",
                            revert: "invalid",
                            helper: function(){
                                return $(this).clone().width($(this).width());
                            },
                            start: function () {
                                $(this).addClass("isDrag");
                            }
                        });
                        $(".droppable1, .droppable2").droppable({
                            accept: $(".draggable"),
                            drop: function (event, ui) {
                                var dropContanier = $(this);
                                var isdrop1 = dropContanier.hasClass("droppable1");
                                var isdrop2 = dropContanier.hasClass("droppable2");
                                var roleId = $(ui.draggable).attr("id");//$(".isDrag").attr("id");
                                var formUpdate = $("#formUpdate");

                                console.log(roleId);
                                if ((isdrop2 == true) && (roleId == 999)) {
                                    dropContanier.text("관리자 권한은 수정할 수 없습니다.");
                                    $(".isDrag").removeClass("isDrag");
                                } else {
                                    /*
                                    $.ajax({
                                        url: base_url + "rest/setting/role/" + roleId,
                                        dataType: "json",
                                        type: "GET",
                                        //data: dataForm,
                                        beforeSend: function () {
                                            dropContanier.text("Loading...");
                                        },
                                        success: function (result) {
                                            console.log("result_code : " + result.result_code + " " + result.result_msg);
                                            if (result.result_code == 200) {
                                                var html = "";
                                                if (isdrop2 == true)
                                                    html += "<button type='submit' class='btn btn-primary'>수정</button>";
                                                    html += "	<div>" + "ID : " + result.data.id + "</div>";
                                                if (isdrop1 == true) {
                                                    html += "<div>권한명칭 : " + result.data.name + "</div>";
                                                    html += "<div>설명 : " + result.data.description + "</div>";
                                                } else {
                                                    html += "<input type='hidden' name='id' value='" + result.data.id + "'/>";
                                                    html += "<div>권한명칭 : <input type='text' name='name' value='" + result.data.name + "'/></div>";
                                                    html += "<div>설명 : <input type='text' name='description' value='" + result.data.description + "'/></div>";
                                                }

                                                html += "<table class='table table-bordered'>";
                                                for (var i in result.data.permissions) {
                                                    html += "<tr>";
                                                    html += "<td>" + result.data.permissions[i].id + "</td>";
                                                    html += "<td>" + result.data.permissions[i].description + "</td>";
                                                    html += "<td>"
                                                    if (isdrop1 == true)
                                                        html += "<span>"
                                                    else
                                                        html += "<span onclick='editPermission(this, " + result.data.permissions[i].id + ", " + result.data.permissions[i].permission + ", " + result.data.permissions[i].type + ")'>"
                                                    html += result.data.permissions[i].permission == 2 ? "읽기/쓰기" : (result.data.permissions[i].permission == 1 ? "읽기" : "사용제한");
                                                    html += "	</span>";
                                                    html += "</td>";
                                                    html += "</tr>";
                                                }
                                                html += "</table>";

                                                dropContanier.html(html);
                                            }
                                            $(".isDrag").removeClass("isDrag");
                                        }
                                    });
                                    */
                                }
                            },
                            activeClass: "droped"
                        });
                        /* 테이블 드래그
                        table_role = $("#table-role");
                        table_role.tableDnD({
                            onDragClass: "myDragClass",
                            onDragStart: function (table, row) {
                                console.log("==> onDragStart");
                            },
                            onDrop: function (table, row) {
                                console.log("==> onDrop");
                                var rows = table.tBodies[0].rows;
                                for (var i = 0; i < rows.length; i++) {
                                    $(rows[i]).find("td:eq(0)").text(i + 1);
                                }

                                var id = $(row).find("td:eq(1)").children("input:hidden[name='id']").val();
                                var priority = $(row).find("td:eq(0)").text();
                                var prev_priority = $(row).find("td:eq(1)").find("input:hidden[name='prev_priority']").val();

		            //console.log("id : " + id);
		            //console.log("priority : " + priority);
		            //console.log("prev_priority : " + prev_priority);

                                var dataForm = {
                                    id: id,
                                    priority: priority,
                                    prev_priority: prev_priority
                                };
                                $.ajax({
                                    url: base_url + "rest/setting/role/priority",
                                    dataType: "json",
                                    type: "POST",
                                    data: dataForm,
                                    success: function (result) {
                                        console.log("result_code : " + result.result_code + " " + result.result_msg);
                                        if (result.result_code == 200) {
                                            for (var i = 0; i < rows.length; i++) {
                                                $(rows[i]).find("td:eq(1)").find("input:hidden[name='prev_priority']").val(i + 1)
                                            }
                                        }
                                    }
                                });
                            },
                            dragHandle: ".dragHandle"
                        });
                        */

                        /* 에러를 alert창으로  */
                        $.validator.setDefaults({
                            onkeyup: false,
                            onclick: false,
                            onfocusout: false,
                            showErrors: function (errorMap, errorList) {
                                if (errorList.length < 1)
                                    return;
                                alert(errorList[0].message);
                            }
                        });
                        /* 유효성 검사 */
                        $("#formRegist").validate({
                            rules: {
                                name: {
                                    required: true,
                                    maxlength: 50
                                },
                                description: {
                                    maxlength: 50
                                },
                            },
                            messages: {
                                name: {
                                    required: "권한 명칭을 입력해 주세요.",
                                    maxlength: "{0}자 이하로 입력하세요."
                                },
                                description: {
                                    maxlength: "{0}자 이하로 입력하세요."
                                },
                            },
                            submitHandler: function () {
                                if (confirm("등록 하시겠습니까?")) {
                                    document.formRegist.submit();
                                    return true;
                                } else
                                    return false;
                            }
                        });
                        $("#formUpdate").validate({
                            rules: {
                                name: {
                                    required: true,
                                    maxlength: 50
                                },
                                description: {
                                    maxlength: 50
                                },
                            },
                            messages: {
                                name: {
                                    required: "권한 명칭을 입력해 주세요.",
                                    maxlength: "{0}자 이하로 입력하세요."
                                },
                                description: {
                                    maxlength: "{0}자 이하로 입력하세요."
                                },
                            },
                            submitHandler: function () {
                                if (confirm("수정 하시겠습니까?")) {
                                    document.formUpdate.submit();
                                    return true;
                                } else
                                    return false;
                            }
                        });
                    });
                    /* 권한 수정 폼 */
                    function editPermission(span, id, permission, type) {
                        console.log("span click : " + id + ", " + permission + ", " + type);

                        html = "<input type='hidden' name='permission_id' value='" + id + "'/>"
                        html += "<select name='type'>";
                        if (type != 0) {
                            if (type == 2) {
                                html += "	<option value='2'";
                                if (permission == 2) html += " selected='selected'";
                                html += ">읽기/쓰기</option>";
                            }
                            html += "	<option value='1'";
                            if (permission == 1) html += " selected='selected'";
                            html += ">읽기</option>";
                        }
                        html += "	<option value='0'";
                        if (permission == 0) html += " selected='selected'";
                        html += ">사용제한</option>";
                        html += "</select>";

                        $(span).parent().html(html);
                    }
                    /* 권한 삭제 */
                    function deleteRole(roleId) {
                        if (confirm("삭제 하시겠습니까?")) {
                            $.ajax({
                                url: base_url + "rest/setting/role/delete/" + roleId,
                                dataType: "json",
                                type: "GET",
                                //data: dataForm,
                                success: function (result) {
                                    console.log("result_code : " + result.result_code + " " + result.result_msg);
                                    if (result.result_code == 200) {
                                        alert("권한을 삭제 하였습니다.");
                                        document.location.href = "/kies/setting/role";
                                    } else {
                                        var count = Object.keys(result.data).length;
                                        if (count == 1)
                                            alert("권한을 사용중 입니다. \n" + count + "명 : " + result.data[0].user_name);
                                        else
                                            alert("권한을 사용중 입니다. \n" + count + "명 : " + result.data[0].user_name + " 외 " + (count - 1) + "명");
                                    }
                                }
                            });
                        }
                    }
                    /* 등록폼 리셋 */
                    function formReset() {
                        $("#formRegist")[0].reset();
                    }
                </script>


                            </div>
                            <!-- x_content (e) -->




                        </div>
                    </div>
                </div>


                <!-- footer content -->
                <footer>
                    <div class="">
                        <p class="pull-left">
                            한국정보공학(주) ㅣ 대표번호 : 031-789-8700 | 주소 : 경기도 성남시 분당구 황새울로356번길 7 경림빌딩
                            <br> © KIES, All rights reserved.
                        </p>
                    </div>
                    <div class="clearfix"></div>
                    <!-- Back To Top -->
                    <a id="back-to-top" href="#">
                        <i class="fa fa-angle-up"></i>
                        <p>TOP</p>
                    </a>
                    <!-- /Back to Top -->
                </footer>
                <!-- /footer content -->
            </div>
            <!-- /page content -->

        </div>

    </div>


    <script src="js/bootstrap.min.js"></script>
    <!-- bootstrap progress js -->
    <script src="js/progressbar/bootstrap-progressbar.min.js"></script>
    <script src="js/nicescroll/jquery.nicescroll.min.js"></script>

    <script src="js/custom.js"></script>

    <script type="text/javascript" src="js/moment.min.js"></script>
    <script type="text/javascript" src="js/datepicker/daterangepicker.js"></script>


</body>

</html>
